# 玄光安全GPT 安装配置与使用说明

## 项目概述

玄光安全GPT是一个基于大模型的7*24小时无人化实时动态防御系统，包含以下核心功能模块：

- 入侵检测系统（IDS）
- 日志记录与分析
- 资产分析
- 应急响应
- 漏洞修复
- AI对话
- 基线排查
- 态势感知
- 无人值守操作
- 边缘设备管理
- 配置管理

## 系统要求

### 硬件要求
- CPU: 至少4核
- 内存: 至少8GB
- 存储空间: 至少50GB
- 网络: 稳定的网络连接

### 软件要求
- Node.js 16.0+ 
- Python 3.8+ 
- npm 6.0+ 或 yarn

## 安装配置指南

### Windows 系统

#### 1. 安装依赖软件

1. **安装 Node.js**
   - 访问 https://nodejs.org/zh-cn/download/ 下载最新版本的 Node.js
   - 运行安装程序，按照提示完成安装
   - 验证安装：打开命令提示符，运行 `node -v` 和 `npm -v`

2. **安装 Python**
   - 访问 https://www.python.org/downloads/ 下载最新版本的 Python
   - 运行安装程序，勾选 "Add Python to PATH"
   - 验证安装：打开命令提示符，运行 `python --version`

3. **安装 Git**
   - 访问 https://git-scm.com/download/win 下载 Git
   - 运行安装程序，按照提示完成安装
   - 验证安装：打开命令提示符，运行 `git --version`

#### 2. 克隆项目

```bash
git clone https://github.com/huoqi1004/XuanGuang-GPT-.git
cd XuanGuang-GPT-
```

#### 3. 安装项目依赖

1. **安装后端依赖**
   ```bash
   cd server
   npm install
   cd ..
   ```

2. **安装机器学习依赖**
   ```bash
   cd ml
   pip install -r requirements.txt
   cd ..
   ```

#### 4. 配置环境

1. **配置后端服务**
   - 进入 `server/src` 目录
   - 编辑 `config.js` 文件，根据实际情况修改配置

2. **配置前端**
   - 进入 `web` 目录
   - 前端配置已内置在 `app.js` 中，无需额外配置

#### 5. 启动服务

1. **启动后端服务**
   ```bash
   cd server
   npm start
   ```

2. **启动前端服务**
   - 可以使用任何静态文件服务器，例如：
   ```bash
   cd web
   python -m http.server 8080
   ```

3. **访问系统**
   - 打开浏览器，访问 `http://localhost:8080`

### Linux 系统

#### 1. 安装依赖软件

1. **安装 Node.js**
   ```bash
   # Ubuntu/Debian
   curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -
   sudo apt-get install -y nodejs
   
   # CentOS/RHEL
   curl -fsSL https://rpm.nodesource.com/setup_16.x | sudo bash -
   sudo yum install -y nodejs
   
   # 验证安装
   node -v
   npm -v
   ```

2. **安装 Python**
   ```bash
   # Ubuntu/Debian
   sudo apt-get update
   sudo apt-get install -y python3 python3-pip
   
   # CentOS/RHEL
   sudo yum install -y python3 python3-pip
   
   # 验证安装
   python3 --version
   pip3 --version
   ```

3. **安装 Git**
   ```bash
   # Ubuntu/Debian
   sudo apt-get install -y git
   
   # CentOS/RHEL
   sudo yum install -y git
   
   # 验证安装
   git --version
   ```

#### 2. 克隆项目

```bash
git clone https://github.com/huoqi1004/XuanGuang-GPT-.git
cd XuanGuang-GPT-
```

#### 3. 安装项目依赖

1. **安装后端依赖**
   ```bash
   cd server
   npm install
   cd ..
   ```

2. **安装机器学习依赖**
   ```bash
   cd ml
   pip3 install -r requirements.txt
   cd ..
   ```

#### 4. 配置环境

1. **配置后端服务**
   - 进入 `server/src` 目录
   - 编辑 `config.js` 文件，根据实际情况修改配置

2. **配置前端**
   - 进入 `web` 目录
   - 前端配置已内置在 `app.js` 中，无需额外配置

#### 5. 启动服务

1. **启动后端服务**
   ```bash
   cd server
   npm start
   ```

2. **启动前端服务**
   ```bash
   cd web
   python3 -m http.server 8080
   ```

3. **访问系统**
   - 打开浏览器，访问 `http://localhost:8080`

### macOS 系统

#### 1. 安装依赖软件

1. **安装 Node.js**
   - 方法1：使用 Homebrew
     ```bash
     brew install node
     ```
   - 方法2：访问 https://nodejs.org/zh-cn/download/ 下载安装包
   - 验证安装：
     ```bash
     node -v
     npm -v
     ```

2. **安装 Python**
   - macOS 自带 Python 3，验证版本：
     ```bash
     python3 --version
     pip3 --version
     ```
   - 如果需要更新，使用 Homebrew：
     ```bash
     brew install python
     ```

3. **安装 Git**
   - 方法1：使用 Homebrew
     ```bash
     brew install git
     ```
   - 方法2：Xcode 命令行工具包含 Git
     ```bash
     xcode-select --install
     ```
   - 验证安装：
     ```bash
     git --version
     ```

#### 2. 克隆项目

```bash
git clone https://github.com/huoqi1004/XuanGuang-GPT-.git
cd XuanGuang-GPT-
```

#### 3. 安装项目依赖

1. **安装后端依赖**
   ```bash
   cd server
   npm install
   cd ..
   ```

2. **安装机器学习依赖**
   ```bash
   cd ml
   pip3 install -r requirements.txt
   cd ..
   ```

#### 4. 配置环境

1. **配置后端服务**
   - 进入 `server/src` 目录
   - 编辑 `config.js` 文件，根据实际情况修改配置

2. **配置前端**
   - 进入 `web` 目录
   - 前端配置已内置在 `app.js` 中，无需额外配置

#### 5. 启动服务

1. **启动后端服务**
   ```bash
   cd server
   npm start
   ```

2. **启动前端服务**
   ```bash
   cd web
   python3 -m http.server 8080
   ```

3. **访问系统**
   - 打开浏览器，访问 `http://localhost:8080`

## 使用说明

### 1. 登录系统

1. 打开浏览器，访问 `http://localhost:8080`
2. 点击 "登录/注册" 按钮
3. 输入用户名和密码登录，或点击 "注册新用户" 创建账户

### 2. 功能模块使用

#### 2.1 入侵检测系统（IDS）
- **实时监控**：系统会自动监控网络流量和系统行为
- **威胁检测**：基于机器学习模型识别潜在威胁
- **告警管理**：查看和处理系统生成的告警
- **规则配置**：根据需要调整检测规则

#### 2.2 日志记录与分析
- **日志查看**：查看系统生成的各类日志
- **日志过滤**：根据时间、类型、级别等过滤日志
- **日志分析**：基于AI分析日志中的异常模式
- **日志导出**：导出日志数据用于进一步分析

#### 2.3 资产分析
- **资产扫描**：扫描网络中的设备和服务
- **资产分类**：自动对资产进行分类管理
- **漏洞评估**：评估资产的安全状态
- **资产监控**：实时监控资产状态变化

#### 2.4 应急响应
- **事件管理**：管理安全事件的生命周期
- **响应流程**：按照预设流程处理安全事件
- **自动化响应**：配置自动响应规则
- **事件报告**：生成详细的事件报告

#### 2.5 漏洞修复
- **漏洞扫描**：扫描系统和应用中的漏洞
- **修复建议**：基于AI生成漏洞修复建议
- **修复执行**：执行自动化修复操作
- **修复验证**：验证漏洞是否已修复

#### 2.6 AI对话
- **安全咨询**：向AI咨询安全问题
- **威胁分析**：分析可疑文件或行为
- **安全建议**：获取系统安全加固建议
- **事件响应**：获取事件处理建议

#### 2.7 基线排查
- **基线扫描**：扫描系统配置与安全基线的差异
- **基线配置**：自定义安全基线标准
- **合规检查**：检查系统是否符合合规要求
- **修复建议**：生成基线偏差修复建议

#### 2.8 态势感知
- **安全态势**：实时展示系统安全状态
- **威胁情报**：整合外部威胁情报
- **趋势分析**：分析安全事件趋势
- **风险评估**：评估系统整体风险水平

#### 2.9 无人值守操作
- **自动化规则**：配置自动化安全操作规则
- **定时任务**：设置安全扫描和维护任务
- **异常处理**：自动处理常见安全异常
- **状态监控**：监控自动化操作的执行状态

#### 2.10 边缘设备管理
- **设备发现**：自动发现网络中的边缘设备
- **设备监控**：监控边缘设备的运行状态
- **设备配置**：远程配置边缘设备
- **安全加固**：对边缘设备进行安全加固

#### 2.11 配置管理
- **系统配置**：管理系统的各项配置
- **用户管理**：管理系统用户和权限
- **角色配置**：配置用户角色和权限
- **审计日志**：记录系统配置变更

### 3. 系统设置

1. **用户设置**
   - 修改个人信息
   - 修改密码
   - 查看登录历史

2. **系统设置**
   - 配置系统参数
   - 管理通知设置
   - 配置集成服务
   - 查看系统状态

3. **安全设置**
   - 配置安全策略
   - 管理API密钥
   - 配置认证方式
   - 查看安全审计日志

## 常见问题与解决方案

### 1. 服务启动失败

**问题**：后端服务启动失败
**解决方案**：
- 检查端口是否被占用：`netstat -tulpn | grep 3000`
- 检查依赖是否安装完整：`npm install`
- 检查配置文件是否正确：`server/src/config.js`

**问题**：前端服务启动失败
**解决方案**：
- 检查端口是否被占用：`netstat -tulpn | grep 8080`
- 检查Python是否安装：`python3 --version`
- 检查web目录是否存在：`ls -la web`

### 2. 无法访问系统

**问题**：浏览器无法访问系统
**解决方案**：
- 检查服务是否正常运行：`ps aux | grep node` 和 `ps aux | grep python`
- 检查防火墙设置：确保端口3000和8080已开放
- 检查网络连接：确保本地网络正常

### 3. 功能模块无法使用

**问题**：某个功能模块无法正常使用
**解决方案**：
- 检查浏览器控制台是否有错误：按F12打开开发者工具
- 检查后端服务日志：查看控制台输出
- 检查网络连接：确保前后端通信正常
- 检查权限设置：确保用户有相应模块的访问权限

### 4. 性能问题

**问题**：系统运行缓慢
**解决方案**：
- 检查系统资源使用情况：`top` 或任务管理器
- 检查数据库性能：如果使用数据库，优化查询
- 检查网络带宽：确保网络连接稳定
- 调整系统配置：根据硬件情况调整配置参数

### 5. 安全问题

**问题**：系统存在安全隐患
**解决方案**：
- 定期更新系统：保持依赖库和系统组件的更新
- 配置强密码：使用复杂密码并定期更换
- 限制访问权限：最小权限原则
- 启用HTTPS：在生产环境中使用HTTPS

## 故障排除

### 1. 查看日志

- **后端日志**：后端服务控制台输出
- **前端日志**：浏览器开发者工具控制台
- **系统日志**：`web/ids/modules/Logger.js` 生成的日志文件

### 2. 常见错误代码

| 错误代码 | 含义 | 解决方案 |
|---------|------|----------|
| 404 | 资源未找到 | 检查URL是否正确，服务是否运行 |
| 500 | 服务器内部错误 | 查看后端日志，检查代码错误 |
| 403 | 权限不足 | 检查用户权限，登录状态 |
| 401 | 未授权 | 重新登录，检查认证信息 |
| 429 | 请求过多 | 减少请求频率，检查代码逻辑 |

### 3. 联系支持

如果遇到无法解决的问题，可以：
- 查看项目文档：`docs/` 目录下的文档
- 检查GitHub issues：项目仓库的issues页面
- 联系项目维护者：通过GitHub提交issue

## 版本更新

### 1. 检查更新

```bash
git pull origin master
```

### 2. 更新依赖

```bash
# 更新后端依赖
cd server
npm install
cd ..

# 更新机器学习依赖
cd ml
pip install -r requirements.txt
cd ..
```

### 3. 重启服务

```bash
# 停止现有服务（Ctrl+C）

# 启动后端服务
cd server
npm start

# 启动前端服务
cd web
python -m http.server 8080
```

## 部署建议

### 开发环境
- 本地部署，使用默认配置
- 开启调试模式，便于开发和测试

### 测试环境
- 隔离的测试网络
- 模拟真实环境的配置
- 完整的测试用例

### 生产环境
- 专用服务器或云服务
- 配置HTTPS
- 定期备份数据
- 监控系统运行状态
- 制定灾备方案

## 总结

玄光安全GPT是一个功能强大的安全防御系统，通过上述安装配置步骤，您可以在不同操作系统上成功部署和使用该系统。系统提供了全面的安全功能，帮助您实现7*24小时无人化实时动态防御。

如果您在使用过程中遇到任何问题，请参考本说明文档的常见问题与解决方案部分，或联系项目维护者获取支持。